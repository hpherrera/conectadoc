(()=>{var e={};e.id=771,e.ids=[771],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},70326:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=a(73137),n=a(54647),r=a(4183),l=a.n(r),i=a(71775),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let c=s.AppPageRouteModule,d=["",{children:["consultation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,23076)),"/Users/hectorherreragonzalez/Desktop/conectadoc/app/consultation/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,36598)),"/Users/hectorherreragonzalez/Desktop/conectadoc/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,51918,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/hectorherreragonzalez/Desktop/conectadoc/app/consultation/page.tsx"],m="/consultation/page",x={require:a,loadChunk:()=>Promise.resolve()},p=new c({definition:{kind:n.x.APP_PAGE,page:"/consultation/page",pathname:"/consultation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},58666:(e,t,a)=>{Promise.resolve().then(a.bind(a,44420))},44420:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var s=a(60080),n=a(9885),r=a(89815),l=a(84737),i=a(78547),o=a(1275),c=a(56206);function d({onClose:e}){return(0,s.jsxs)(o.DialogHeader,{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Agendar Consulta"}),s.jsx(o.IconButton,{variant:"text",color:"blue-gray",onClick:e,className:"rounded-full",children:s.jsx(c.Z,{className:"w-5 h-5"})})]})}var u=a(517),m=a(51910),x=a(11922);function p({doctor:e,onSelectDateTime:t}){let[a,r]=(0,n.useState)(new Date),[l,i]=(0,n.useState)(null),c=Object.keys(e.availability),d=e=>{let t=e.toISOString().split("T")[0];return c.includes(t)},u=a=>{if(d(a)){i(a);let s=a.toISOString().split("T")[0];e.availability[s]?.length>0&&t(s,e.availability[s][0])}},p=(e=>{let t=e.getFullYear(),a=e.getMonth(),s=new Date(t,a+1,0).getDate(),n=new Date(t,a,1).getDay(),r=[];for(let e=0;e<n;e++)r.push(null);for(let e=1;e<=s;e++)r.push(new Date(t,a,e));return r})(a),h=a.toLocaleString("default",{month:"long"}),g=a.getFullYear();return(0,s.jsxs)(o.Card,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx(o.Button,{variant:"text",onClick:()=>{r(new Date(a.getFullYear(),a.getMonth()-1))},children:s.jsx(m.Z,{className:"h-5 w-5"})}),(0,s.jsxs)(o.Typography,{variant:"h6",className:"capitalize",children:[h," ",g]}),s.jsx(o.Button,{variant:"text",onClick:()=>{r(new Date(a.getFullYear(),a.getMonth()+1))},children:s.jsx(x.Z,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"].map(e=>s.jsx("div",{className:"text-center text-sm font-medium text-gray-600",children:e},e))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:p.map((e,t)=>{if(!e)return s.jsx("div",{},`empty-${t}`);let a=d(e),n=l?.toDateString()===e.toDateString();return s.jsx(o.Button,{variant:n?"filled":"text",color:a?"blue":"blue-gray",disabled:!a,className:`h-10 p-0 ${a?"hover:bg-blue-50":"opacity-50"}`,onClick:()=>u(e),children:e.getDate()},e.toISOString())})})]})}function h({doctor:e,onDateTimeSelect:t}){return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(u.Z,{className:"w-6 h-6"}),s.jsx(o.Typography,{variant:"h6",children:"Selecciona una fecha"})]}),s.jsx(p,{doctor:e,onSelectDateTime:t})]})}var g=a(15441);function j({doctor:e,selectedDate:t,selectedTime:a,onTimeSelect:n}){return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(g.Z,{className:"w-6 h-6"}),s.jsx(o.Typography,{variant:"h6",children:"Selecciona un horario"})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.availability[t]?.map(e=>s.jsx(o.Button,{onClick:()=>n(e),variant:a===e?"filled":"outlined",color:"blue",className:"normal-case",children:e},e))})]})}var v=a(59490);function y({email:e,onEmailChange:t}){return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(v.Z,{className:"w-6 h-6"}),s.jsx(o.Typography,{variant:"h6",children:"Ingresa tu correo"})]}),s.jsx(o.Input,{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"correo@ejemplo.com",className:"!border-t-blue-gray-200 focus:!border-t-blue-500",labelProps:{className:"before:content-none after:content-none"},crossOrigin:void 0})]})}var f=a(83104);function b({doctor:e,selectedDate:t,selectedTime:a,meetingLink:n}){return(0,s.jsxs)("div",{className:"space-y-4 text-center",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(f.Z,{className:"w-8 h-8 text-green-500"})}),s.jsx(o.Typography,{variant:"h4",color:"blue-gray",children:"\xa1Consulta Agendada!"}),(0,s.jsxs)(o.Typography,{children:["Tu consulta con ",e.name," est\xe1 programada para el"," ",new Date(t).toLocaleDateString()," a las ",a]}),(0,s.jsxs)(o.Card,{className:"p-4 bg-blue-gray-50",children:[s.jsx(o.Typography,{variant:"h6",color:"blue-gray",children:"Link de video llamada:"}),s.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:n})]}),s.jsx(o.Typography,{variant:"small",color:"gray",children:"Se ha agregado el evento a tu calendario"})]})}function N({step:e,doctor:t,selectedDate:a,selectedTime:n,email:r,meetingLink:l,onDateTimeSelect:i,onEmailChange:c,onNext:d}){return s.jsx(o.DialogBody,{className:"h-[calc(100vh-30rem)] overflow-y-auto p-6",children:(0,s.jsxs)("div",{className:"space-y-8",children:[(()=>{let o={date:s.jsx(h,{doctor:t,onDateTimeSelect:i}),time:s.jsx(j,{doctor:t,selectedDate:a,selectedTime:n,onTimeSelect:e=>i(a,e)}),email:s.jsx(y,{email:r,onEmailChange:c}),confirmation:s.jsx(b,{doctor:t,selectedDate:a,selectedTime:n,meetingLink:l})};return o[e]})(),"confirmation"!==e&&s.jsx("div",{className:"pt-4 border-t",children:s.jsx(o.Button,{onClick:d,disabled:"date"===e&&!a||"time"===e&&!n||"email"===e&&!r,className:"w-full",color:"blue",children:"Continuar"})})]})})}var S=a(19348);function D({isOpen:e,onClose:t,doctor:a}){let{step:r,selectedDate:l,selectedTime:i,email:c,meetingLink:u,handleDateTimeSelect:m,handleNext:x,handleEmailChange:p}=function(e){let[t,a]=(0,n.useState)("date"),[s,r]=(0,n.useState)(""),[l,i]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[d,u]=(0,n.useState)("");return{step:t,selectedDate:s,selectedTime:l,email:o,meetingLink:d,handleDateTimeSelect:(e,t)=>{r(e),i(t)},handleEmailChange:e=>{c(e)},handleNext:()=>{if("date"===t&&s)a("time");else if("time"===t&&l)a("email");else if("email"===t&&o){let t=(0,S.x)({doctorId:e.id,date:s,time:l});u(t),a("confirmation"),function({title:e,date:t,time:a,details:s}){let n=t.replace(/-/g,""),r=a.replace(":",""),l=`${n}T${r}00`,[i,o]=a.split(":"),c=`${String(Number(i)+1).padStart(2,"0")}${o}00`,d=`${n}T${c}`,u=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(e)}&dates=${l}/${d}&details=${encodeURIComponent(s)}`;window.open(u,"_blank")}({title:`Consulta Online con ${e.name}`,date:s,time:l,details:`Link de video llamada: ${t}`})}}}}(a);return(0,s.jsxs)(o.Dialog,{open:e,handler:t,size:"xl",className:"bg-white",dismiss:{outsidePress:!1},animate:{mount:{scale:1,y:0},unmount:{scale:.9,y:-100}},children:[s.jsx(d,{onClose:t}),s.jsx(N,{step:r,doctor:a,selectedDate:l,selectedTime:i,email:c,meetingLink:u,onDateTimeSelect:m,onEmailChange:p,onNext:x})]})}function w(){let[e,t]=(0,n.useState)(null),[a,o]=(0,n.useState)(!1);return s.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[s.jsx(r.Z,{className:"w-16 h-16 mx-auto text-primary"}),s.jsx("h1",{className:"mt-4 text-4xl font-bold text-gray-900",children:"Consulta M\xe9dica Online"}),s.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Agenda una consulta con nuestros profesionales especializados"})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:l.q.map(e=>s.jsx(i.Z,{doctor:e,onSelect:()=>{t(e),o(!0)}},e.id))}),e&&s.jsx(D,{isOpen:a,onClose:()=>o(!1),doctor:e})]})})}},23076:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>o});var s=a(17536);let n=(0,s.createProxy)(String.raw`/Users/hectorherreragonzalez/Desktop/conectadoc/app/consultation/page.tsx`),{__esModule:r,$$typeof:l}=n,i=n.default,o=i}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[313,517,451,557,453,2],()=>a(70326));module.exports=s})();